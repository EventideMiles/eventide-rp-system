# v13.16.0 - Action Card Groups

**Release Date**: October 2025

## Major Features and Improvements

### üóÇÔ∏è Action Card Grouping System

**Action cards can now be organized into groups for better management and organization.**

#### Group Creation and Management

- **Drag to Group**: Simply drag two action cards together to create a group automatically
- **Named Groups**: Give your groups meaningful names to organize related action cards
- **Visual Organization**: Groups display with headers showing the group name and card count
- **Drag and Drop**: Reorder groups using the drag handle for optimal organization
- **Group Controls**: Easily rename or delete groups as your needs change

#### Group Features

- **Actor Support**: Action card groups work on both actors and transformations
- **Embedded Transformations**: Group action cards within transformation items
- **Flexible Grouping**: Mix and match action cards in groups as needed
- **Ungrouped Section**: Cards not in groups remain accessible in a dedicated ungrouped section
- **Drag Between**: Drag action cards in and out of groups seamlessly

#### Display and Layout

- **Consistent Headers**: Each group displays column headers for easy reference
- **Card Count**: Groups show how many action cards they contain at a glance
- **Clean Interface**: Improved layout keeps grouped and ungrouped cards organized
- **Tooltip Support**: Helpful tooltips guide users through group functionality

### üé® Enhanced Action Card Display

**Improvements to action card presentation and organization across the system.**

#### Transformation Action Cards

- **Grouping Support**: Transformation embedded action cards now support full grouping functionality
- **Improved Sorting**: Better sorting logic ensures cards display in the correct order
- **Header Rows**: Groups within transformations display header rows for clarity
- **Consistent Experience**: Transformation action cards work the same way as actor action cards

#### Layout Improvements

- **Fixed Layout Issues**: Resolved transformation embedded action card layout problems
- **Better Headers**: Group headers provide context as users scroll down the page
- **Visual Continuity**: Headers help users understand what they're viewing throughout long lists

### üåê Internationalization

**Complete translation support for the grouping feature.**

#### Translation Strings

- **Group Labels**: All group-related UI elements are fully translatable
- **Action Labels**: Button and control labels support localization
- **Help Text**: Tooltips and help text available in translation files
- **Placeholder Text**: Form placeholders ready for translation

### üé® Styling and CSS

**New styles to support the grouping interface.**

#### Group Styles

- **Group Headers**: Distinctive styling for group headers with drag handles
- **Group Content**: Clean, contained styling for grouped action cards
- **Visual Hierarchy**: Clear distinction between groups and ungrouped cards
- **Responsive Design**: Groups adapt to different screen sizes appropriately

## Bug Fixes and Improvements

### üêõ Fixes

#### Token Configuration Issues

- **Transformation Lock**: Token configuration now properly locked during active transformations
- **Override System**: Added overrides to ensure no configuration changes while transformed
- **Unlinked Tokens**: Fixed issues with unlinked token transformations
- **Token Stability**: Improved reliability of token-transformation interactions

#### Embedded Action Card Issues

- **Modification Fix**: Resolved issue preventing modification of embedded action cards
- **Edit Flow**: Improved editing workflow for embedded action cards
- **Data Persistence**: Better handling of embedded action card data updates

## Getting Started

### For Players

1. **Create Groups**: Drag two action cards together to create your first group
2. **Name Groups**: Click the group name to rename it (e.g., "Combat", "Utility", "Defense")
3. **Organize Cards**: Drag action cards into and out of groups as needed
4. **Reorder Groups**: Use the grip icon to drag groups into your preferred order

### For Game Masters

1. **Template Organization**: Use groups to organize template transformation action cards
2. **Monster Actions**: Group monster abilities by type (attacks, defenses, special abilities)
3. **NPC Management**: Keep NPC action cards organized by encounter or role
4. **Share Patterns**: Teach players effective grouping patterns for their characters

### Best Practices

1. **Semantic Naming**: Use clear group names that describe the cards' purpose
2. **Logical Grouping**: Group related action cards together (e.g., all fire spells)
3. **Action Types**: Consider grouping by action type (attacks, defenses, buffs, etc.)
4. **Frequency**: Group frequently-used actions for quick access during gameplay

## Migration and Compatibility

### Automatic Migration

- **No Migration Required**: Groups are a new feature with no data migration needed
- **Backward Compatible**: Existing action cards work exactly as before
- **Optional Feature**: Use groups only if they help your organization

### Data Structure

- **Group Metadata**: Groups are stored in actor and transformation flags
- **Non-Destructive**: Creating groups doesn't modify action card data
- **Flexible Storage**: Groups can be created, modified, and deleted without affecting cards

## Version Information

- **Release Version**: 13.16.0
- **Foundry Compatibility**: v13+ minimum, v13+ verified
- **Major Features**: Action Card Groups, Enhanced Layout, Token Configuration Fixes
- **Previous Version**: v13.15.5 focused on Stability & Polish

## Known Issues

None at this time. The grouping system has been thoroughly tested.

## Documentation

- [Action Cards Guide](../advanced-usage/action-cards.md) - Complete action cards documentation
- [Quick Start Guide](../getting-started/quick-start.md) - Get started with the system

## Technical Details

### For Developers

#### Group Data Structure

Groups are stored in the actor/transformation flags under `eventide-rp-system.actionCardGroups`:

```json
{
  "groupId": {
    "id": "groupId",
    "name": "Group Name",
    "cards": ["cardId1", "cardId2"],
    "sort": 0
  }
}
```

#### API Access

- Access groups via `actor.getFlag('eventide-rp-system', 'actionCardGroups')`
- Group operations handled through the sheet's drag-and-drop handlers
- Group sorting uses standard Foundry sort mechanisms

#### CSS Classes

- `.erps-action-card-group` - Group container
- `.erps-action-card-group__header` - Group header with name and controls
- `.erps-action-card-group__content` - Group content area
- `.erps-action-card-group__drag-handle` - Drag handle for reordering

---

**Current Version**: v13.16.0 | **Foundry VTT Compatibility**: v13+ | **Last Updated**: October 2025
