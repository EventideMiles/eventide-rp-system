# v13.17.5 - Enhanced Context Menus & Code Quality

**Release Date**: November 2025

## Improvements

### üñ±Ô∏è Comprehensive Context Menus

**All item types now support context menu creation from any sheet tab.**

#### Universal Item Creation

- **Create Any Item Type**: Right-click on empty space in any tab (Action Cards, Features, Gear, Combat Powers, Statuses) to create items of any type
- **Flexible Workflow**: No need to navigate to specific tabs just to create an item - create items from wherever you're working
- **Quick Access**: All item types accessible from context menus including:
  - Action Cards
  - Features
  - Combat Powers
  - Transformations
  - Status Effects
  - Gear

#### Enhanced Context Menu Operations

- **Expanded Options**: Additional context menu entries for all item management operations
- **Consistent Interface**: Uniform context menu experience across all sheet types
- **Improved Discoverability**: Right-click context menus make features more discoverable for new users
- **Faster Item Management**: Reduced clicks and navigation for common item operations

### üîß Code Quality & Stability Improvements

**Behind-the-scenes improvements ensure better performance and internationalization support.**

#### Internationalization Fixes

- **Fully Localized Error Messages**: All hardcoded English strings replaced with proper i18n localization keys
- **Permission Warnings**: Embedded item permission warnings now properly localized
- **Error Messages**: Transformation data model error messages now support translation
- **Future-Proof**: Complete i18n compliance makes future translations easier

#### Performance Enhancements

- **Memory Leak Fixed**: Event listener memory leak in group name editing resolved
- **Proper Cleanup**: Event listeners now properly removed and rebound using WeakMap storage
- **Better Resource Management**: Prevents accumulation of duplicate event handlers over multiple re-renders
- **Improved Stability**: Long-running sheets no longer experience performance degradation

#### Technical Details

- Fixed non-localized strings in `item-sheet-actions.mjs` (11 instances)
- Fixed non-localized error messages in `item-transformation.mjs` (3 instances)
- Implemented WeakMap-based event listener storage to prevent memory leaks
- Added 7 new localization keys to `errors.json`:
  - `NoPermissionEditEmbeddedItems`
  - `NoPermissionEditEmbeddedEffects`
  - `NoPermissionEditEmbeddedTransformations`
  - `NoPermissionEditTransformationCombatPowers`
  - `NoPermissionEditTransformationActionCards`
  - `EmbeddedCombatPowerNotFound`
  - `EmbeddedActionCardNotFound`

## Version Information

- **Release Version**: 13.17.5
- **Foundry Compatibility**: v13+ minimum, v13+ verified
- **Previous Version**: v13.17.2 introduced Context Menus and Header Optimization
- **Focus**: Context menu enhancements, code quality, and stability improvements

## Getting Started

### For Players and Game Masters

1. **Universal Item Creation**: Right-click on empty areas in any tab to create any item type
2. **Explore Context Menus**: Right-click on items to discover all available management options
3. **Efficient Workflows**: Take advantage of context menus to reduce navigation and improve efficiency
4. **Better Performance**: Enjoy improved stability, especially in long-running game sessions

### For Translators

1. **New Localization Keys**: Seven new error message keys added to support internationalization
2. **Complete Coverage**: All user-facing strings now properly support translation
3. **Translation Ready**: System is fully prepared for community translations

## Known Issues

None at this time.

## Documentation

- [Action Cards Guide](../advanced-usage/action-cards.md) - Complete action cards documentation
- [Quick Start Guide](../getting-started/quick-start.md) - Get started with the system
- [Transformation System](../advanced-usage/transformations.md) - Transformation documentation

---

**Current Version**: v13.17.5 | **Foundry VTT Compatibility**: v13+ | **Last Updated**: November 2025
