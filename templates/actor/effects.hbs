{{! Effects Tab }}
<section
  class='tab effects flexcol {{tab.cssClass}}'
  data-group='primary'
  data-tab='effects'
>
  {{#each effects as |section sid|}}
    <div class="eventide-actor-data-section__header">
      {{localize section.label}}
    </div>

    <table class='eventide-actor-data-table eventide-actor-data-table--effects'>
      <thead class='eventide-actor-data-table__header'>
        <tr>
          <th class='eventide-actor-data-table__header-cell'>{{localize 'EVENTIDE_RP_SYSTEM.Forms.Sections.Name'}}</th>
          <th class='eventide-actor-data-table__header-cell'>{{localize 'EVENTIDE_RP_SYSTEM.Effect.Source'}}</th>
          <th class='eventide-actor-data-table__header-cell'>{{localize 'EFFECT.TabDuration'}}</th>
          <th class='eventide-actor-data-table__header-cell'>
            <a
              class='eventide-actor-data-create'
              data-action='createDoc'
              data-document-class='ActiveEffect'
              data-origin="{{@root.actor.uuid}}"
              data-img="icons/svg/aura.svg"
              {{#if (eq section.type "inactive")}}
                data-disabled="true"
              {{else if (eq section.type "temporary")}}
                data-duration.rounds="1"
              {{/if}}
              title='{{localize "DOCUMENT.Create" type='Effect'}}'
              onclick='event.stopPropagation();'
            >
              <i class='fas fa-plus'></i>
              {{localize 'DOCUMENT.New' type='Effect'}}
            </a>
          </th>
        </tr>
      </thead>
      <tbody>
        {{#each section.effects as |effect|}}
          <tr
            class='eventide-actor-data-table__row{{#if effect.disabled}} eventide-actor-data-table__row--disabled{{/if}}'
            data-effect-id='{{effect.id}}'
            data-parent-id='{{effect.parent.id}}'
            data-document-class='ActiveEffect'
            data-drag="true"
          >
            <td class='eventide-actor-data-table__cell eventide-actor-data-table__name-cell'>
              <div class='eventide-actor-data-table__name-content'>
                <img src='{{effect.img}}' height="24" width="24"/>
                <span>{{effect.name}}</span>
              </div>
            </td>
            <td class='eventide-actor-data-table__cell eventide-actor-data-table__prop-cell'>{{effect.sourceName}}</td>
            <td class='eventide-actor-data-table__cell eventide-actor-data-table__prop-cell'>{{effect.duration.label}}</td>
            <td class='eventide-actor-data-table__cell eventide-actor-data-table__controls-cell'>
              {{#if @root.editable}}
                <a
                  class='eventide-actor-data-control eventide-actor-data-control--equip{{#if effect.disabled}} eventide-actor-data-control--disabled{{/if}}'
                  data-action='toggleEffect'
                  data-effect-id='{{effect.id}}'
                  data-parent-id='{{effect.parent.id}}'
                  title='{{localize "EVENTIDE_RP_SYSTEM.Effect.Toggle"}}'
                  onclick='event.stopPropagation();'
                >
                  <i class='fas {{#if effect.disabled}}fa-check{{else}}fa-times{{/if}}'></i>
                </a>
              {{/if}}
              <a
                class='eventide-actor-data-control eventide-actor-data-control--edit'
                data-action='viewDoc'
                data-effect-id='{{effect.id}}'
                data-parent-id='{{effect.parent.id}}'
                title='{{localize "DOCUMENT.Update" type='Effect'}}'
                onclick='event.stopPropagation();'
              >
                <i class='fas fa-edit'></i>
              </a>
              {{#if @root.editable}}
                <a
                  class='eventide-actor-data-control eventide-actor-data-control--delete'
                  data-action='deleteDoc'
                  data-effect-id='{{effect.id}}'
                  data-parent-id='{{effect.parent.id}}'
                  title='{{localize "DOCUMENT.Delete" type='Effect'}}'
                  onclick='event.stopPropagation();'
                >
                  <i class='fas fa-trash'></i>
                </a>
              {{/if}}
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  {{/each}}
</section>
