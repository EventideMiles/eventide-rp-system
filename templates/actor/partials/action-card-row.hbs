{{! Reusable Action Card Row Partial }}
<tr
  class="erps-data-table__row erps-data-table__row--hoverable {{#if (eq item.system.mode 'attackChain')}}{{#unless item.system.embeddedItem.type}}erps-data-table__row--warning{{/unless}}{{/if}}"
  data-item-id="{{item._id}}"
  data-drag="{{#unless isTransformation}}true{{/unless}}"
  data-document-class="Item"
  {{#if item.system.description}}
  title="{{item.system.description}}"
  {{/if}}
>
  <td class="erps-data-table__cell erps-data-table__cell--name rollable" data-roll-type="item" data-action="roll" data-item-id="{{item._id}}">
    <div class="erps-data-table__name-content">
      <img
        src="{{item.img}}"
        title="{{item.name}}"
        width="24"
        height="24"
      />
      <span>{{item.name}}
        {{#if isTransformation}}
          <i class="fas fa-magic erps-data-table__transformation-indicator" title="{{localize 'EVENTIDE_RP_SYSTEM.Actor.ActionCards.TransformationActionCard'}}"></i>
        {{/if}}
      </span>
    </div>
  </td>
  <td class="erps-data-table__cell erps-data-table__cell--center rollable" data-roll-type="item" data-action="roll" data-item-id="{{item._id}}">
    {{#if (eq item.system.mode "attackChain")}}
      {{#if item.system.embeddedItem._id}}
        <div class="erps-data-table__embedded-item">
          <img
            src="{{item.system.embeddedItem.img}}"
            title="{{item.system.embeddedItem.name}}"
            width="24"
            height="24"
          />
          <span>{{item.system.embeddedItem.name}}</span>
        </div>
      {{else}}
        <span class="erps-data-table__empty-state">{{localize "EVENTIDE_RP_SYSTEM.General.None"}}</span>
      {{/if}}
    {{else}}
      <div class="erps-data-table__embedded-item">
        <span>{{localize "EVENTIDE_RP_SYSTEM.Item.ActionCard.SavedDamageMode"}}</span>
      </div>
    {{/if}}
  </td>
  <td class="erps-data-table__cell erps-data-table__cell--center rollable" data-roll-type="item" data-action="roll" data-item-id="{{item._id}}">
    {{#if (eq item.system.mode "attackChain")}}
      <div class="erps-data-table__attack-chain-info"
           title="Attack Chain: {{item.system.attackChain.firstStat}} + {{item.system.attackChain.secondStat}}{{#if (ne item.system.attackChain.damageCondition 'never')}}&#10;Damage: {{item.system.attackChain.damageCondition}}{{#if (eq item.system.attackChain.damageCondition 'rollValue')}} (threshold {{item.system.attackChain.damageThreshold}}){{/if}} ({{item.system.attackChain.damageFormula}} {{item.system.attackChain.damageType}}){{/if}}{{#if (ne item.system.attackChain.statusCondition 'never')}}&#10;Status: {{item.system.attackChain.statusCondition}} (threshold {{item.system.attackChain.statusThreshold}}){{/if}}">
        <span class="erps-data-table__attack-chain-stats">
          {{item.system.attackChain.firstStat}} + {{item.system.attackChain.secondStat}}
        </span>
        {{#if (ne item.system.attackChain.damageCondition "never")}}
          <i class="fas fa-sword erps-data-table__chain-icon" title="Damage applies on {{item.system.attackChain.damageCondition}}{{#if (eq item.system.attackChain.damageCondition 'rollValue')}} (threshold {{item.system.attackChain.damageThreshold}}){{/if}}: {{item.system.attackChain.damageFormula}} {{item.system.attackChain.damageType}}"></i>
        {{/if}}
        {{#if (ne item.system.attackChain.statusCondition "never")}}
          <i class="fas fa-magic erps-data-table__chain-icon" title="Status applies on {{item.system.attackChain.statusCondition}} with threshold {{item.system.attackChain.statusThreshold}}"></i>
        {{/if}}
      </div>
    {{else if (eq item.system.mode "savedDamage")}}
      <div class="erps-data-table__attack-chain-info"
           title="Saved Damage: {{item.system.savedDamage.formula}} {{item.system.savedDamage.type}}{{#if item.system.savedDamage.description}}&#10;{{item.system.savedDamage.description}}{{/if}}">
        <span class="erps-data-table__attack-chain-stats">{{item.system.savedDamage.formula}}</span>
        <i class="fas fa-heart-broken erps-data-table__chain-icon" title="{{item.system.savedDamage.formula}} {{item.system.savedDamage.type}}"></i>
      </div>
    {{else}}
      <span class="erps-data-table__empty-state">{{localize "EVENTIDE_RP_SYSTEM.General.Unknown"}}</span>
    {{/if}}
  </td>
  <td class="erps-data-table__cell erps-data-table__cell--controls">
    <div class="erps-data-table__controls">
      <a
        class="erps-data-table__control-button erps-data-table__control-button--execute"
        title="{{localize 'EVENTIDE_RP_SYSTEM.Item.ActionCard.Execute'}}"
        data-action="executeActionCard"
        data-item-id="{{item._id}}"
      >
        {{#if (eq item.system.mode "attackChain")}}
          <i class="fas fa-bolt"></i>
        {{else if (eq item.system.mode "savedDamage")}}
          <i class="fas fa-heart-broken"></i>
        {{else}}
          <i class="fas fa-play"></i>
        {{/if}}
      </a>
      {{#unless isTransformation}}
      <a
        class="erps-data-table__control-button erps-data-table__control-button--edit"
        title="{{localize 'DOCUMENT.Update' type='Action Card'}}"
        data-action="viewDoc"
        data-item-id="{{item._id}}"
      >
        <i class="fas fa-edit"></i>
      </a>
      
        {{#if @root.editable}}
          <a
            class="erps-data-table__control-button erps-data-table__control-button--delete"
            title="{{localize 'DOCUMENT.Delete' type='Action Card'}}"
            data-action="deleteDoc"
            data-item-id="{{item._id}}"
          >
            <i class="fas fa-trash"></i>
          </a>
        {{/if}}
      {{else}}
        <div class="erps-data-table__control-button erps-data-table__control-button--disabled erps-data-table__control-button--locked" title="{{localize 'EVENTIDE_RP_SYSTEM.Actor.ActionCards.TransformedLocked'}}">
          <i class="fas fa-lock"></i>
        </div>
        <div class="erps-data-table__control-button erps-data-table__control-button--disabled erps-data-table__control-button--locked" title="{{localize 'EVENTIDE_RP_SYSTEM.Actor.ActionCards.TransformedLocked'}}">
          <i class="fas fa-lock"></i>
        </div>
      {{/unless}}
    </div>
  </td>
</tr>
