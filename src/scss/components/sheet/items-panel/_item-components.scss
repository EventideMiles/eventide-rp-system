@use "config" as *;
@use "mixins" as *;
@use "../../../utils/sheet-tokens" as tokens;

// ===================================
// ITEM COMPONENTS
// ===================================
// Image, name, and control button styling

.erps-items-panel {
  // ===================================
  // ITEM IMAGE
  // ===================================

  &__image {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: tokens.$sheet-radius-sm;
    border: 1px solid var(--theme-secondary);
    object-fit: cover;
    flex-shrink: 0;
    position: relative;

    &:hover {
      border-color: var(--theme-light);
      box-shadow: 0 0 tokens.$sheet-glow-blur-sm var(--theme-glow);
    }
  }

  // ===================================
  // DRAG INDICATOR
  // ===================================

  &__drag-indicator {
    position: absolute;
    top: 2px;
    right: 2px;
    font-size: 0.75rem;
    color: var(--theme-secondary);
    background: var(--theme-background);
    border-radius: 50%;
    width: 1rem;
    height: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: none;
    z-index: 1;
  }

  // ===================================
  // DRAGGABLE ITEM STATES
  // ===================================

  &__item--draggable {
    cursor: grab;
    transition: all 0.2s ease;

    &:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgb(0 0 0 / 20%);

      .erps-items-panel__drag-indicator {
        opacity: 1;
        color: var(--theme-accent);
      }
    }

    &:active {
      cursor: grabbing;
      transform: translateY(0);
    }
  }

  // ===================================
  // ITEM NAME
  // ===================================

  &__name {
    font-weight: tokens.$sheet-font-weight-medium;
    color: var(--theme-text);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
    min-width: 0;

    &:hover {
      color: var(--theme-light);
    }
  }

  // ===================================
  // CONTROL BUTTONS
  // ===================================

  &__control {
    @include control-button-base;

    // Control button variants
    &--view {
      @include control-button-variant(blue);
    }

    &--edit {
      @include control-button-variant(green);
    }

    &--delete {
      @include control-button-variant(red);
    }

    &--warning {
      @include control-button-variant(orange);
    }

    &--disabled {
      opacity: tokens.$sheet-opacity-disabled;
      cursor: not-allowed;
      pointer-events: none;
    }
  }
}
